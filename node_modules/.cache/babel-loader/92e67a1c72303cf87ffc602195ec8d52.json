{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Gabe/Documents/Projects/sudokoo/src/components/SudokuParent.js\",\n    _s = $RefreshSig$();\n\nimport { getDefaultNormalizer } from \"@testing-library/react\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Sudoku } from \"./Sudoku.js\";\nimport { Cell } from \"./Cell.js\";\nimport { House } from \"./House.js\"; //import { colors } from \"./../colors.js\";\n\nexport const SudokuParent = props => {\n  _s();\n\n  var stateHouses = [];\n  var h0 = [6, 4, 9, 3, 5, 2, 1, 7, 8];\n  var h1 = [0, 0, 0, 6, 1, 0, 0, 2, 9];\n  var h2 = [1, 3, 2, 0, 7, 0, 5, 4, 6];\n  var h3 = [8, 3, 1, 7, 6, 4, 9, 2, 5];\n  var h4 = [9, 6, 7, 2, 5, 3, 8, 4, 1];\n  var h5 = [2, 5, 4, 9, 8, 1, 3, 6, 7];\n  var h6 = [2, 0, 0, 5, 0, 0, 0, 8, 7];\n  var h7 = [5, 7, 6, 4, 9, 8, 1, 3, 2];\n  var h8 = [4, 1, 8, 7, 2, 3, 6, 9, 5];\n  var houses = [h0, h1, h2, h3, h4, h5, h6, h7, h8];\n  var r0 = [6, 4, 9, 0, 0, 0, 1, 3, 2];\n  var r1 = [3, 5, 2, 6, 1, 0, 0, 7, 0];\n  var r2 = [1, 7, 8, 0, 2, 9, 5, 4, 6];\n  var r3 = [8, 3, 1, 9, 6, 7, 2, 5, 4];\n  var r4 = [7, 6, 4, 2, 5, 3, 9, 8, 1];\n  var r5 = [9, 2, 5, 8, 4, 1, 3, 6, 7];\n  var r6 = [2, 0, 0, 5, 7, 6, 4, 1, 8];\n  var r7 = [5, 0, 0, 4, 9, 8, 7, 2, 3];\n  var r8 = [0, 8, 7, 1, 3, 2, 6, 9, 5];\n  var rows = [r0, r1, r2, r3, r4, r5, r6, r7, r8];\n  var c0 = [6, 3, 1, 8, 7, 9, 2, 5, 0];\n  var c1 = [4, 5, 7, 3, 6, 2, 0, 0, 8];\n  var c2 = [9, 2, 8, 1, 4, 5, 0, 0, 7];\n  var c3 = [0, 6, 0, 9, 2, 8, 5, 4, 1];\n  var c4 = [0, 1, 2, 6, 5, 4, 7, 9, 3];\n  var c5 = [0, 0, 9, 7, 3, 1, 6, 8, 2];\n  var c6 = [1, 0, 5, 2, 9, 3, 4, 7, 6];\n  var c7 = [3, 7, 4, 5, 8, 6, 1, 2, 9];\n  var c8 = [2, 0, 6, 4, 1, 7, 8, 3, 5];\n  var cols = [c0, c1, c2, c3, c4, c5, c6, c7, c8];\n  var unsolved = [];\n  var input = rows;\n  const [solveState, setSolveState] = useState([]);\n  useEffect(() => {\n    loadSudoku(input);\n    console.log(\"NEXT: \" + getNextSolution()); // OLD BEHAVIOR BELOW\n    // note all empty cells\n\n    var emptyCells = getEmptyCells();\n    emptyCells.forEach(cell => {\n      cell.notes = getPossibleVals(cell);\n      console.log(cell.notes);\n    }); // Naked Single check\n\n    emptyCells.forEach(cell => {\n      let noteCount = 0;\n      let i = 0;\n      let solutionVal = 0;\n      cell.notes.forEach(val => {\n        if (val) {\n          noteCount++;\n          solutionVal = i;\n        }\n\n        i++;\n      });\n\n      if (noteCount == 1) {\n        console.log(\"Naked Single @ (\" + cell.row + \",\" + cell.col + \") = \" + (solutionVal + 1));\n      }\n    });\n  }, []); // TODO: replace useEffect w this once tested\n\n  const getNextSolution = () => {\n    // Naked Single check\n    for (var i = 0; i < unsolved.length; i++) {\n      if (unsolved[i].suspects.size == 1) {\n        // remove cell from unsolved list\n        var cell = unsolved[i];\n        console.log(\"SPLICE: \" + unsolved.splice(i, 1));\n        let suspect = cell.suspects.values().next().value; // report to console\n\n        console.log(\"Naked Single @ (\" + cell.row + \",\" + cell.col + \") = \" + suspect); // update state\n\n        stateHouses[cell.house][cell.room].val = suspect; // TODO: push state as props to Sudoku\n\n        return suspect;\n      }\n    } // Hidden Single check\n    // ...\n\n  }; // TODO: delete this fxn\n\n\n  const getEmptyCells = () => {\n    var result = [];\n    var currRow = 0;\n    var currCol = 0;\n    rows.forEach(row => {\n      row.forEach(cell => {\n        if (cell == 0) {\n          let currHouse = getHouse(currRow, currCol);\n          result.push({\n            row: currRow,\n            col: currCol,\n            house: currHouse,\n            notes: []\n          });\n        }\n\n        currCol++;\n      });\n      currRow++;\n      currCol = 0;\n    });\n    return result;\n  }; // TODO: delete this fxn\n\n\n  const getPossibleVals = cell => {\n    var possibleVals = [true, true, true, true, true, true, true, true, true];\n    rows[cell.row].forEach(cell => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    cols[cell.col].forEach(cell => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    houses[cell.house].forEach(cell => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    return possibleVals;\n  };\n\n  const getHouse = (row, col) => {\n    return 3 * Math.floor(row / 3) + Math.floor(col / 3);\n  };\n\n  const findSuspects = cell => {\n    // let axes = [rows, cols, houses];\n    // let indexes = [cell.row, cell.col, cell.house];\n    // for (var i = 0; i < 3; i++) {\n    //   console.log(\"axis: \" + i + \"\\tindex: \" + indexes[i]);\n    //   axes[i][indexes[i]].forEach((val) => {\n    //     if (val >= 1 && val <= 9) {\n    //       cell.suspects.delete(val);\n    //     }\n    //   });\n    // }\n    // TODO: remove this if axes replacement works\n    rows[cell.row].forEach(val => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n    cols[cell.col].forEach(val => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n    houses[cell.house].forEach(val => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n  };\n\n  const buildEmpty2DArray = () => {\n    var result = new Array(9);\n\n    for (var i = 0; i < 9; i++) {\n      result[i] = new Array(9);\n    }\n\n    return result;\n  };\n\n  const buildNewCell = (v, s) => {\n    return {\n      val: v,\n      set: s,\n      notes: [false, false, false, false, false, false, false, false, false]\n    };\n  };\n\n  const loadSudoku = input => {\n    // input is a 2d array of all initial values\n    stateHouses = buildEmpty2DArray();\n    houses = buildEmpty2DArray();\n    rows = buildEmpty2DArray();\n    cols = buildEmpty2DArray();\n    unsolved = [];\n\n    for (var y = 0; y < 9; y++) {\n      for (var x = 0; x < 9; x++) {\n        // create cell object\n        let val = input[y][x];\n        let isSet = val >= 1 && val <= 9;\n        var cell = buildNewCell(val, isSet); // store cell in each state object\n\n        let h = 3 * Math.floor(y / 3) + Math.floor(x / 3);\n        let r = 3 * (y % 3) + x % 3;\n        stateHouses[h][r] = cell;\n        houses[h][r] = val;\n        rows[y][x] = val;\n        cols[x][y] = val;\n\n        if (!isSet) {\n          var s = new Set();\n\n          for (var i = 1; i <= 9; i++) s.add(i);\n\n          unsolved.push({\n            row: y,\n            col: x,\n            house: h,\n            room: r,\n            suspects: s\n          });\n        }\n      }\n    } // identify each cell's suspect values\n\n\n    for (var i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    } // TODO: push to Sudoku as props\n\n\n    setSolveState(stateHouses);\n  }; // TODO: export solution data to set Sudoku props\n\n\n  const exportSudoku = () => {\n    var result = [9][9];\n    var i = 0;\n    houses.forEach(house => {\n      var j = 0;\n      house.forEach(cell => {\n        result[i][j] = {\n          val: cell,\n          set: false,\n          notes: [false, false, false, false, false, false, false, false, false]\n        };\n      });\n      i++;\n    }); //ReactDOM.render();\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledDiv, {\n    children: /*#__PURE__*/_jsxDEV(Sudoku, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SudokuParent, \"mo0Sw38BSmWtP+jykuNfWnFbdW4=\");\n\n_c = SudokuParent;\nconst StyledDiv = styled.div`\n  display: grid;\n  grid-template-rows: repeat(3, 1fr);\n  grid-template-columns: repeat(3, 1fr);\n  width: min(90vw, 90vh);\n  height: min(90vw, 90vh);\n`;\n_c2 = StyledDiv;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SudokuParent\");\n$RefreshReg$(_c2, \"StyledDiv\");","map":{"version":3,"sources":["/Users/Gabe/Documents/Projects/sudokoo/src/components/SudokuParent.js"],"names":["getDefaultNormalizer","React","useState","useEffect","styled","Sudoku","Cell","House","SudokuParent","props","stateHouses","h0","h1","h2","h3","h4","h5","h6","h7","h8","houses","r0","r1","r2","r3","r4","r5","r6","r7","r8","rows","c0","c1","c2","c3","c4","c5","c6","c7","c8","cols","unsolved","input","solveState","setSolveState","loadSudoku","console","log","getNextSolution","emptyCells","getEmptyCells","forEach","cell","notes","getPossibleVals","noteCount","i","solutionVal","val","row","col","length","suspects","size","splice","suspect","values","next","value","house","room","result","currRow","currCol","currHouse","getHouse","push","possibleVals","Math","floor","findSuspects","delete","buildEmpty2DArray","Array","buildNewCell","v","s","set","y","x","isSet","h","r","Set","add","exportSudoku","j","StyledDiv","div"],"mappings":"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","sourcesContent":["import { getDefaultNormalizer } from \"@testing-library/react\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Sudoku } from \"./Sudoku.js\";\nimport { Cell } from \"./Cell.js\";\nimport { House } from \"./House.js\";\n//import { colors } from \"./../colors.js\";\n\nexport const SudokuParent = (props) => {\n  var stateHouses = [];\n\n  var h0 = [6, 4, 9, 3, 5, 2, 1, 7, 8];\n  var h1 = [0, 0, 0, 6, 1, 0, 0, 2, 9];\n  var h2 = [1, 3, 2, 0, 7, 0, 5, 4, 6];\n  var h3 = [8, 3, 1, 7, 6, 4, 9, 2, 5];\n  var h4 = [9, 6, 7, 2, 5, 3, 8, 4, 1];\n  var h5 = [2, 5, 4, 9, 8, 1, 3, 6, 7];\n  var h6 = [2, 0, 0, 5, 0, 0, 0, 8, 7];\n  var h7 = [5, 7, 6, 4, 9, 8, 1, 3, 2];\n  var h8 = [4, 1, 8, 7, 2, 3, 6, 9, 5];\n  var houses = [h0, h1, h2, h3, h4, h5, h6, h7, h8];\n\n  var r0 = [6, 4, 9, 0, 0, 0, 1, 3, 2];\n  var r1 = [3, 5, 2, 6, 1, 0, 0, 7, 0];\n  var r2 = [1, 7, 8, 0, 2, 9, 5, 4, 6];\n  var r3 = [8, 3, 1, 9, 6, 7, 2, 5, 4];\n  var r4 = [7, 6, 4, 2, 5, 3, 9, 8, 1];\n  var r5 = [9, 2, 5, 8, 4, 1, 3, 6, 7];\n  var r6 = [2, 0, 0, 5, 7, 6, 4, 1, 8];\n  var r7 = [5, 0, 0, 4, 9, 8, 7, 2, 3];\n  var r8 = [0, 8, 7, 1, 3, 2, 6, 9, 5];\n  var rows = [r0, r1, r2, r3, r4, r5, r6, r7, r8];\n\n  var c0 = [6, 3, 1, 8, 7, 9, 2, 5, 0];\n  var c1 = [4, 5, 7, 3, 6, 2, 0, 0, 8];\n  var c2 = [9, 2, 8, 1, 4, 5, 0, 0, 7];\n  var c3 = [0, 6, 0, 9, 2, 8, 5, 4, 1];\n  var c4 = [0, 1, 2, 6, 5, 4, 7, 9, 3];\n  var c5 = [0, 0, 9, 7, 3, 1, 6, 8, 2];\n  var c6 = [1, 0, 5, 2, 9, 3, 4, 7, 6];\n  var c7 = [3, 7, 4, 5, 8, 6, 1, 2, 9];\n  var c8 = [2, 0, 6, 4, 1, 7, 8, 3, 5];\n  var cols = [c0, c1, c2, c3, c4, c5, c6, c7, c8];\n\n  var unsolved = [];\n  var input = rows;\n\n  const [solveState, setSolveState] = useState([]);\n\n  useEffect(() => {\n    loadSudoku(input);\n    console.log(\"NEXT: \" + getNextSolution());\n\n    // OLD BEHAVIOR BELOW\n    // note all empty cells\n    var emptyCells = getEmptyCells();\n    emptyCells.forEach((cell) => {\n      cell.notes = getPossibleVals(cell);\n      console.log(cell.notes);\n    });\n\n    // Naked Single check\n    emptyCells.forEach((cell) => {\n      let noteCount = 0;\n      let i = 0;\n      let solutionVal = 0;\n      cell.notes.forEach((val) => {\n        if (val) {\n          noteCount++;\n          solutionVal = i;\n        }\n        i++;\n      });\n      if (noteCount == 1) {\n        console.log(\n          \"Naked Single @ (\" +\n            cell.row +\n            \",\" +\n            cell.col +\n            \") = \" +\n            (solutionVal + 1)\n        );\n      }\n    });\n  }, []);\n\n  // TODO: replace useEffect w this once tested\n  const getNextSolution = () => {\n    // Naked Single check\n    for (var i = 0; i < unsolved.length; i++) {\n      if (unsolved[i].suspects.size == 1) {\n        // remove cell from unsolved list\n        var cell = unsolved[i];\n        console.log(\"SPLICE: \" + unsolved.splice(i, 1));\n        let suspect = cell.suspects.values().next().value;\n\n        // report to console\n        console.log(\n          \"Naked Single @ (\" + cell.row + \",\" + cell.col + \") = \" + suspect\n        );\n\n        // update state\n        stateHouses[cell.house][cell.room].val = suspect;\n\n        // TODO: push state as props to Sudoku\n        return suspect;\n      }\n    }\n\n    // Hidden Single check\n    // ...\n  };\n\n  // TODO: delete this fxn\n  const getEmptyCells = () => {\n    var result = [];\n    var currRow = 0;\n    var currCol = 0;\n    rows.forEach((row) => {\n      row.forEach((cell) => {\n        if (cell == 0) {\n          let currHouse = getHouse(currRow, currCol);\n          result.push({\n            row: currRow,\n            col: currCol,\n            house: currHouse,\n            notes: [],\n          });\n        }\n        currCol++;\n      });\n      currRow++;\n      currCol = 0;\n    });\n    return result;\n  };\n\n  // TODO: delete this fxn\n  const getPossibleVals = (cell) => {\n    var possibleVals = [true, true, true, true, true, true, true, true, true];\n    rows[cell.row].forEach((cell) => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    cols[cell.col].forEach((cell) => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    houses[cell.house].forEach((cell) => {\n      if (cell > 0 && cell <= 9) {\n        possibleVals[cell - 1] = false;\n      }\n    });\n    return possibleVals;\n  };\n\n  const getHouse = (row, col) => {\n    return 3 * Math.floor(row / 3) + Math.floor(col / 3);\n  };\n\n  const findSuspects = (cell) => {\n    // let axes = [rows, cols, houses];\n    // let indexes = [cell.row, cell.col, cell.house];\n\n    // for (var i = 0; i < 3; i++) {\n    //   console.log(\"axis: \" + i + \"\\tindex: \" + indexes[i]);\n    //   axes[i][indexes[i]].forEach((val) => {\n    //     if (val >= 1 && val <= 9) {\n    //       cell.suspects.delete(val);\n    //     }\n    //   });\n    // }\n\n    // TODO: remove this if axes replacement works\n    rows[cell.row].forEach((val) => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n    cols[cell.col].forEach((val) => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n    houses[cell.house].forEach((val) => {\n      if (val > 0 && val <= 9) {\n        cell.suspects.delete(val);\n      }\n    });\n  };\n\n  const buildEmpty2DArray = () => {\n    var result = new Array(9);\n    for (var i = 0; i < 9; i++) {\n      result[i] = new Array(9);\n    }\n    return result;\n  };\n\n  const buildNewCell = (v, s) => {\n    return {\n      val: v,\n      set: s,\n      notes: [false, false, false, false, false, false, false, false, false],\n    };\n  };\n\n  const loadSudoku = (input) => {\n    // input is a 2d array of all initial values\n    stateHouses = buildEmpty2DArray();\n    houses = buildEmpty2DArray();\n    rows = buildEmpty2DArray();\n    cols = buildEmpty2DArray();\n    unsolved = [];\n\n    for (var y = 0; y < 9; y++) {\n      for (var x = 0; x < 9; x++) {\n        // create cell object\n        let val = input[y][x];\n        let isSet = val >= 1 && val <= 9;\n\n        var cell = buildNewCell(val, isSet);\n\n        // store cell in each state object\n        let h = 3 * Math.floor(y / 3) + Math.floor(x / 3);\n        let r = 3 * (y % 3) + (x % 3);\n\n        stateHouses[h][r] = cell;\n        houses[h][r] = val;\n        rows[y][x] = val;\n        cols[x][y] = val;\n\n        if (!isSet) {\n          var s = new Set();\n          for (var i = 1; i <= 9; i++) s.add(i);\n\n          unsolved.push({\n            row: y,\n            col: x,\n            house: h,\n            room: r,\n            suspects: s,\n          });\n        }\n      }\n    }\n\n    // identify each cell's suspect values\n    for (var i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    }\n\n    // TODO: push to Sudoku as props\n    setSolveState(stateHouses);\n  };\n\n  // TODO: export solution data to set Sudoku props\n  const exportSudoku = () => {\n    var result = [9][9];\n    var i = 0;\n    houses.forEach((house) => {\n      var j = 0;\n      house.forEach((cell) => {\n        result[i][j] = {\n          val: cell,\n          set: false,\n          notes: [\n            false,\n            false,\n            false,\n            false,\n            false,\n            false,\n            false,\n            false,\n            false,\n          ],\n        };\n      });\n      i++;\n    });\n    //ReactDOM.render();\n  };\n\n  return (\n    <StyledDiv>\n      <Sudoku></Sudoku>\n    </StyledDiv>\n  );\n};\n\nconst StyledDiv = styled.div`\n  display: grid;\n  grid-template-rows: repeat(3, 1fr);\n  grid-template-columns: repeat(3, 1fr);\n  width: min(90vw, 90vh);\n  height: min(90vw, 90vh);\n`;\n"]},"metadata":{},"sourceType":"module"}