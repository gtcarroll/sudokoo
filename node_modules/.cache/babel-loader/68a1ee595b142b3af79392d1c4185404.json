{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Gabe/Documents/Projects/sudokoo/src/components/SudokuParent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Sudoku } from \"./Sudoku.js\";\nimport { colors } from \"./../colors.js\";\nexport const SudokuParent = props => {\n  _s();\n\n  const [state, setState] = useState(); // const [sudoku, setSudoku] = useState();\n  // const [sRows, setRows] = useState([]);\n  // const [sCols, setCols] = useState();\n  // const [sHouses, setHouses] = useState();\n  // const [unsolved, setUnsolved] = useState([]);\n\n  var stateMaster = {\n    sudoku: [],\n    houses: [],\n    rows: [],\n    cols: [],\n    unsolved: []\n  };\n  var sudokuState = [];\n  var houses, rows, cols, unsolved;\n  var input = [[0, 4, 9, 0, 0, 0, 0, 3, 0], [0, 5, 0, 6, 1, 0, 0, 0, 0], [0, 0, 8, 0, 2, 9, 5, 0, 6], [8, 0, 0, 9, 0, 7, 0, 0, 4], [7, 0, 0, 0, 0, 0, 0, 8, 1], [0, 2, 5, 0, 4, 1, 3, 0, 0], [2, 0, 0, 0, 7, 6, 0, 1, 0], [5, 0, 0, 4, 0, 8, 7, 0, 0], [0, 8, 7, 0, 0, 0, 0, 9, 5]]; //useEffect(() => {\n\n  const initSudoku = () => {\n    loadSudoku(input);\n\n    while (unsolved.length > 0 && getNextSolution());\n  }; //}, []);\n  // input is a 2d array of all initial values\n\n\n  const loadSudoku = input => {\n    console.log(\"***SUDOKU LOADING***\");\n    sudokuState = buildEmpty2DArray();\n    houses = buildEmpty2DArray();\n    rows = buildEmpty2DArray();\n    cols = buildEmpty2DArray();\n    setUnsolved([]);\n\n    for (var y = 0; y < 9; y++) {\n      for (var x = 0; x < 9; x++) {\n        // create cell object\n        let val = input[y][x];\n        let isSet = val >= 1 && val <= 9;\n        var cell = buildNewCell(val, isSet); // store cell in each state object\n\n        let h = 3 * Math.floor(y / 3) + Math.floor(x / 3);\n        let r = 3 * (y % 3) + x % 3;\n        sudokuState[h][r] = cell;\n        houses[h][r] = val;\n        rows[y][x] = val;\n        cols[x][y] = val;\n\n        if (!isSet) {\n          var s = new Set();\n\n          for (let i = 1; i <= 9; i++) s.add(i);\n\n          unsolved.push({\n            row: y,\n            col: x,\n            house: h,\n            room: r,\n            suspects: s\n          });\n        }\n      }\n    } //setAxes([rows, cols, houses]);\n    // identify each cell's suspect values\n\n\n    for (let i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    } // push to Sudoku as props\n\n\n    stateMaster = {\n      sudoku: sudokuState,\n      houses: houses,\n      rows: rows,\n      cols: cols,\n      unsolved: unsolved\n    };\n    setState(stateMaster); // setUnsolved(unsolved);\n    // setSudoku(sudokuState);\n    // setRows(rows);\n    // setCols(cols);\n    // setHouses(houses);\n\n    console.log(unsolved);\n    console.log(sudoku);\n    console.log(\"***SUDOKU LOADED***\");\n  }; // TODO: replace useEffect w this once tested\n\n\n  const getNextSolution = () => {\n    console.log(sudoku); // could update this more efficiently if previous solution tracking is added\n    // identify each cell's suspect values\n\n    console.log(unsolved);\n\n    for (let i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    } // Naked Single check\n\n\n    for (var i = 0; i < unsolved.length && i < 81; i++) {\n      console.log(\"looop \" + i);\n\n      if (unsolved[i].suspects.size === 1) {\n        // remove cell from unsolved list\n        var cell = unsolved[i]; //console.log(unsolved);\n\n        unsolved.splice(i, 1);\n        let suspect = cell.suspects.values().next().value; // report to console\n\n        console.log(\"Naked Single @ (\" + cell.row + \",\" + cell.col + \") = \" + suspect); // update all state holders\n\n        sudokuState = sudoku;\n        houses = sHouses;\n        rows = sRows;\n        cols = sCols;\n        sudokuState[cell.house][cell.room].val = suspect;\n        houses[cell.house][cell.room] = suspect;\n        rows[cell.row][cell.col] = suspect;\n        cols[cell.col][cell.row] = suspect; // push state as props to Sudoku\n\n        setSudoku(sudokuState);\n        return true;\n      }\n    } // Hidden Single check\n    // ...\n\n\n    return false;\n  };\n\n  const findSuspects = cell => {\n    var axes;\n\n    if (sRows != null && sCols != null && sHouses != null) {\n      axes = [sRows, sCols, sHouses];\n    } else {\n      axes = [rows, cols, houses];\n    }\n\n    let indexes = [cell.row, cell.col, cell.house];\n\n    for (var i = 0; i < 3; i++) {\n      // loops through rows, cols, houses this cell belongs to\n      console.log(\"axis: \" + i + \"\\tindex: \" + indexes[i]);\n      console.log(axes[i][indexes[i]]);\n      axes[i][indexes[i]].forEach(val => {\n        // if the value is set, remove it from suspect list\n        if (val >= 1 && val <= 9) {\n          cell.suspects.delete(val);\n        }\n      });\n    }\n  };\n\n  const buildEmpty2DArray = () => {\n    var result = new Array(9);\n\n    for (var i = 0; i < 9; i++) {\n      result[i] = new Array(9);\n    }\n\n    return result;\n  };\n\n  const buildNewCell = (v, s) => {\n    return {\n      val: v,\n      set: s,\n      notes: [false, false, false, false, false, false, false, false, false]\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledDiv, {\n    children: [/*#__PURE__*/_jsxDEV(Sudoku, {\n      houses: sudoku\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Controls, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => loadSudoku(input),\n        children: \"load\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: getNextSolution,\n        children: \"solve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SudokuParent, \"NTqKeJem0kxPdWdnhkCI+0oYHTA=\");\n\n_c = SudokuParent;\nconst StyledDiv = styled.div`\n  display: grid;\n  grid-template-rows: min(80vw, 80vh) 1fr;\n  grid-template-columns: 1fr;\n  grid-gap: 2rem;\n  width: min(80vw, 80vh);\n  height: 100%;\n`;\n_c2 = StyledDiv;\nconst Controls = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 2em;\n  width: 100%;\n`;\n_c3 = Controls;\nconst Button = styled.button`\n  flex-grow: 1;\n  font-size: 24px;\n\n  border: 2px solid ${colors.sudokuBorder};\n  color: ${colors.sudokuBorder};\n  background-color: transparent;\n  padding: 0.2em;\n  border-radius: 1em;\n  &:hover {\n    background-color: ${colors.sudokuBorder};\n    color: ${colors.appBG};\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.05);\n  }\n`;\n_c4 = Button;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"SudokuParent\");\n$RefreshReg$(_c2, \"StyledDiv\");\n$RefreshReg$(_c3, \"Controls\");\n$RefreshReg$(_c4, \"Button\");","map":{"version":3,"sources":["/Users/Gabe/Documents/Projects/sudokoo/src/components/SudokuParent.js"],"names":["React","useState","styled","Sudoku","colors","SudokuParent","props","state","setState","stateMaster","sudoku","houses","rows","cols","unsolved","sudokuState","input","initSudoku","loadSudoku","length","getNextSolution","console","log","buildEmpty2DArray","setUnsolved","y","x","val","isSet","cell","buildNewCell","h","Math","floor","r","s","Set","i","add","push","row","col","house","room","suspects","findSuspects","size","splice","suspect","values","next","value","sHouses","sRows","sCols","setSudoku","axes","indexes","forEach","delete","result","Array","v","set","notes","StyledDiv","div","Controls","Button","button","sudokuBorder","appBG"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Sudoku } from \"./Sudoku.js\";\nimport { colors } from \"./../colors.js\";\n\nexport const SudokuParent = (props) => {\n  const [state, setState] = useState();\n  // const [sudoku, setSudoku] = useState();\n  // const [sRows, setRows] = useState([]);\n  // const [sCols, setCols] = useState();\n  // const [sHouses, setHouses] = useState();\n  // const [unsolved, setUnsolved] = useState([]);\n\n  var stateMaster = {\n    sudoku: [],\n    houses: [],\n    rows: [],\n    cols: [],\n    unsolved: [],\n  };\n  var sudokuState = [];\n  var houses, rows, cols, unsolved;\n  var input = [\n    [0, 4, 9, 0, 0, 0, 0, 3, 0],\n    [0, 5, 0, 6, 1, 0, 0, 0, 0],\n    [0, 0, 8, 0, 2, 9, 5, 0, 6],\n    [8, 0, 0, 9, 0, 7, 0, 0, 4],\n    [7, 0, 0, 0, 0, 0, 0, 8, 1],\n    [0, 2, 5, 0, 4, 1, 3, 0, 0],\n    [2, 0, 0, 0, 7, 6, 0, 1, 0],\n    [5, 0, 0, 4, 0, 8, 7, 0, 0],\n    [0, 8, 7, 0, 0, 0, 0, 9, 5],\n  ];\n\n  //useEffect(() => {\n  const initSudoku = () => {\n    loadSudoku(input);\n\n    while (unsolved.length > 0 && getNextSolution());\n  };\n  //}, []);\n\n  // input is a 2d array of all initial values\n  const loadSudoku = (input) => {\n    console.log(\"***SUDOKU LOADING***\");\n\n    sudokuState = buildEmpty2DArray();\n    houses = buildEmpty2DArray();\n    rows = buildEmpty2DArray();\n    cols = buildEmpty2DArray();\n    setUnsolved([]);\n\n    for (var y = 0; y < 9; y++) {\n      for (var x = 0; x < 9; x++) {\n        // create cell object\n        let val = input[y][x];\n        let isSet = val >= 1 && val <= 9;\n        var cell = buildNewCell(val, isSet);\n\n        // store cell in each state object\n        let h = 3 * Math.floor(y / 3) + Math.floor(x / 3);\n        let r = 3 * (y % 3) + (x % 3);\n\n        sudokuState[h][r] = cell;\n        houses[h][r] = val;\n        rows[y][x] = val;\n        cols[x][y] = val;\n\n        if (!isSet) {\n          var s = new Set();\n          for (let i = 1; i <= 9; i++) s.add(i);\n\n          unsolved.push({\n            row: y,\n            col: x,\n            house: h,\n            room: r,\n            suspects: s,\n          });\n        }\n      }\n    }\n\n    //setAxes([rows, cols, houses]);\n    // identify each cell's suspect values\n    for (let i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    }\n\n    // push to Sudoku as props\n    stateMaster = {\n      sudoku: sudokuState,\n      houses: houses,\n      rows: rows,\n      cols: cols,\n      unsolved: unsolved,\n    };\n    setState(stateMaster);\n    // setUnsolved(unsolved);\n    // setSudoku(sudokuState);\n    // setRows(rows);\n    // setCols(cols);\n    // setHouses(houses);\n\n    console.log(unsolved);\n    console.log(sudoku);\n    console.log(\"***SUDOKU LOADED***\");\n  };\n\n  // TODO: replace useEffect w this once tested\n  const getNextSolution = () => {\n    console.log(sudoku);\n    // could update this more efficiently if previous solution tracking is added\n    // identify each cell's suspect values\n    console.log(unsolved);\n    for (let i = 0; i < unsolved.length; i++) {\n      findSuspects(unsolved[i]);\n    }\n\n    // Naked Single check\n    for (var i = 0; i < unsolved.length && i < 81; i++) {\n      console.log(\"looop \" + i);\n      if (unsolved[i].suspects.size === 1) {\n        // remove cell from unsolved list\n        var cell = unsolved[i];\n        //console.log(unsolved);\n        unsolved.splice(i, 1);\n        let suspect = cell.suspects.values().next().value;\n\n        // report to console\n        console.log(\n          \"Naked Single @ (\" + cell.row + \",\" + cell.col + \") = \" + suspect\n        );\n\n        // update all state holders\n        sudokuState = sudoku;\n        houses = sHouses;\n        rows = sRows;\n        cols = sCols;\n        sudokuState[cell.house][cell.room].val = suspect;\n        houses[cell.house][cell.room] = suspect;\n        rows[cell.row][cell.col] = suspect;\n        cols[cell.col][cell.row] = suspect;\n\n        // push state as props to Sudoku\n        setSudoku(sudokuState);\n        return true;\n      }\n    }\n\n    // Hidden Single check\n    // ...\n\n    return false;\n  };\n\n  const findSuspects = (cell) => {\n    var axes;\n    if (sRows != null && sCols != null && sHouses != null) {\n      axes = [sRows, sCols, sHouses];\n    } else {\n      axes = [rows, cols, houses];\n    }\n    let indexes = [cell.row, cell.col, cell.house];\n\n    for (var i = 0; i < 3; i++) {\n      // loops through rows, cols, houses this cell belongs to\n      console.log(\"axis: \" + i + \"\\tindex: \" + indexes[i]);\n      console.log(axes[i][indexes[i]]);\n      axes[i][indexes[i]].forEach((val) => {\n        // if the value is set, remove it from suspect list\n        if (val >= 1 && val <= 9) {\n          cell.suspects.delete(val);\n        }\n      });\n    }\n  };\n\n  const buildEmpty2DArray = () => {\n    var result = new Array(9);\n    for (var i = 0; i < 9; i++) {\n      result[i] = new Array(9);\n    }\n    return result;\n  };\n\n  const buildNewCell = (v, s) => {\n    return {\n      val: v,\n      set: s,\n      notes: [false, false, false, false, false, false, false, false, false],\n    };\n  };\n\n  return (\n    <StyledDiv>\n      <Sudoku houses={sudoku}></Sudoku>\n      <Controls>\n        <Button onClick={() => loadSudoku(input)}>load</Button>\n        <Button onClick={getNextSolution}>solve</Button>\n      </Controls>\n    </StyledDiv>\n  );\n};\n\nconst StyledDiv = styled.div`\n  display: grid;\n  grid-template-rows: min(80vw, 80vh) 1fr;\n  grid-template-columns: 1fr;\n  grid-gap: 2rem;\n  width: min(80vw, 80vh);\n  height: 100%;\n`;\n\nconst Controls = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 2em;\n  width: 100%;\n`;\n\nconst Button = styled.button`\n  flex-grow: 1;\n  font-size: 24px;\n\n  border: 2px solid ${colors.sudokuBorder};\n  color: ${colors.sudokuBorder};\n  background-color: transparent;\n  padding: 0.2em;\n  border-radius: 1em;\n  &:hover {\n    background-color: ${colors.sudokuBorder};\n    color: ${colors.appBG};\n    transition: all 0.2s ease-in-out;\n    transform: scale(1.05);\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}